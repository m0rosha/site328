<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
    <link rel="stylesheet" href="/static/prod_style.css">
</head>
<body>
    <div class="main">
        <div class="top_bar">
            <div class="home_button">
                <a class="home_button_link"href="/">Healfy</a>
            </div>
            <div class="cart_buttons">
                <span class="cart_buttons2">
                    
                    <a class="cart_word"href="/home/cart">Your cart {{cart_sum}}x</a>
                    
                </span>
            </div>
        </div>
        <div class="products123">
        {%for prod_cont in products %}
        <div class="product_side">
            <h1 class="prod1_button"href="/home/products"><img class="prod1_img" src="{{prod_cont[3]}}" alt="product"></h1>
            <div class="product1_n_p">
                <span><h1 class="product1_name">{{prod_cont[1]}}</h1></span>
                <span><h1 class="product1_price">{{prod_cont[2]}}$</h1></span>
                <form action="addToCart" method="post">
                
                    <button class="add-to-cart" >Add to Cart</button> 
                    <input type="hidden" value="{{prod_cont[0]}}" name="id">
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
    </div>
                


    
</body>
 <!--  <script>
        document.addEventListener("DOMContentLoaded", function () {
            const addToCartButtons = document.querySelectorAll('.add-to-cart');
            const cartLink = document.querySelector('.cart_word');

            let cartItems = JSON.parse(localStorage.getItem('cart')) || [];

            addToCartButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const productId = this.getAttribute('data-product-id');
                    const productName = this.getAttribute('data-product-name');
                    const productPrice = this.getAttribute('data-product-price');

                    const newItem = {
                        id: productId,
                        name: productName,
                        price: productPrice
                    };

                    cartItems.push(newItem);
                    updateCartLink();
                    saveCartToLocalStorage();
                });
            });

            function updateCartLink() {
                cartLink.textContent = `Your Cart (${cartItems.length} items)`;
            }

            function saveCartToLocalStorage() {
                localStorage.setItem('cart', JSON.stringify(cartItems));
            }
        });
     </script> -->
    

</html>